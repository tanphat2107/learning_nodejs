"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var db=require("../db"),shortid=require("shortid");module.exports.index=function(e,r){r.render("users/index",{users:db.get("users").value()})},module.exports.search=function(e,r){var o=e.query.q,t=db.get("users").value().filter(function(e){return-1!==users.name.toLowerCase().indexOf(o.toLowerCase())});r.render("users/index",{users:t})},module.exports.getCreate=function(e,r){r.render("users/create")},module.exports.getId=function(e,r){var o=e.params.id;console.log(_typeof(o));var t=db.get("users").find({id:o}).value();r.render("users/view",{user:t})},module.exports.postCreate=function(e,r){e.body.id=shortid.generate();var o=[];e.body.name||o.push("Name is require"),e.body.phone||o.push("Phone is require"),o.length?r.render("users/create",{errs:o}):(db.get("users").push(e.body).write(),r.redirect("/users"))};